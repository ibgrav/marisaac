---
import "@/styles/wedding.css";
import { Image } from "astro:assets";

const album = import.meta.glob("src/assets/wedding/album/*.jpg", {
  eager: true,
}) as Record<string, { default: ImageMetadata }>;
---

<html lang="en" class="w-full bg-emerald-900 h-full">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Marissa & Isaac Wedding" />

    <title>Marissa & Isaac Wedding</title>

    <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml" />
  </head>
  <body
    class="font-body relative h-full max-w-[60rem] mx-auto flex flex-col gap-2 p-2"
  >
    <video
      width="320"
      height="240"
      controls
      class="w-full h-11/12 object-cover rounded-lg"
    >
      <source src="https://assets.marisaac.site/wedding.mp4" type="video/mp4" />
    </video>

    <div
      class="pb-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-2"
    >
      {
        Object.values(album).map(({ default: image }) => {
          return (
            <button class="cursor-pointer">
              <Image
                src={image}
                loading="lazy"
                alt="Marissa & Isaac Wedding"
                width={600}
                class="thumbnail w-full h-full object-cover rounded-lg hover:scale-[1.02] hover:shadow-lg"
              />

              <div class="fullsize w-full h-full">
                <Image
                  src={image}
                  loading="lazy"
                  alt="Marissa & Isaac Wedding"
                  width={1920}
                  class="w-full h-full object-cover rounded-lg"
                />
              </div>
            </button>
          );
        })
      }
    </div>

    <style>
      button .fullsize {
        display: none;
      }
      button.active .fullsize {
        display: block;
      }

      button.active .fullsize {
        position: fixed;
        background-color: rgba(0, 0, 0, 0.6);
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 100;
      }

      button.active .fullsize img {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        scale: 1;
        width: auto;
        height: 90%;
        margin: 0 auto;
      }
    </style>

    <script>
      const buttons = document.querySelectorAll("button");

      buttons.forEach((button) => {
        button.addEventListener("click", () => {
          document.body.classList.toggle("overflow-hidden");
          button.classList.toggle("active");
        });
      });
    </script>
  </body>
</html>
